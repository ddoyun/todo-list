{"mappings":"AAAO,MAAMA,EAAM,kEACNC,EAAU,CACrB,eAAgB,mBAChBC,OAAQ,gBACRC,SAAU,kBAECC,EAAM,CACjBC,QAASC,SAASC,cAAc,YAChCC,UAAWF,SAASC,cAAc,eAClCE,WAAYH,SAASC,cAAc,gBACnCG,SAAUJ,SAASC,cAAc,eCR5BI,eAAeC,EAAQC,GAC5B,IACE,MAAMC,QAAYC,MAAMf,EAAK,CAC3BgB,OAAQ,OACRC,QAAShB,EACTiB,KAAMC,KAAKC,UAAU,C,MACnBP,MAGEQ,QAAaP,EAAIO,OAGvB,OAFAC,QAAQC,IAAIF,GAELA,CAGT,CAFE,MAAOG,GACPF,QAAQC,IAAIC,EACd,CACF,CChBOb,eAAec,IACpB,IACE,MAAMX,QAAYC,MAAMf,EAAK,CAC3BgB,OAAQ,MACRC,QAAShB,IAELyB,QAAcZ,EAAIO,OAExB,OADAC,QAAQC,IAAIG,GACLA,CAGT,CAFE,MAAOF,GACPF,QAAQC,IAAIC,EACd,CACF,CCZOb,eAAegB,EAAWC,GAC/BN,QAAQC,IAAU,oEAAKK,KACvB,IACE,MAAMd,QAAYC,MAAMf,CAAG,KAAK4B,IAAM,CACpCZ,OAAQ,SACRC,QAAShB,IAGX,aADmBa,EAAIO,MAIzB,CAFE,MAAOG,GACPF,QAAQC,IAAIC,EACd,CACF,CCZOb,eAAekB,EAAShB,EAAOiB,GAAO,EAAMF,GACjDN,QAAQC,IAAU,oEAAKK,KACvB,IACE,MAAMd,QAAYC,MAAMf,CAAG,KAAK4B,IAAM,CACpCZ,OAAQ,MACRC,QAAShB,EACTiB,KAAMC,KAAKC,UAAU,C,MACnBP,E,KACAiB,MAIJ,aADmBhB,EAAIO,MAIzB,CAFE,MAAOG,GACPF,QAAQC,IAAIC,EACd,CACF,CCdO,SAASO,EAAYL,GAC1B,IAAK,MAAMM,KAAQN,EAAO,CAIxB,IAAIO,EADaD,EAAKE,UACKC,MAAM,EAAG,IAEpC,MAAMC,EAAK9B,SAAS+B,cAAc,MAClCD,EAAGE,UAAuB,2CAQfN,EAAAJ,gCACII,EAAAJ,iDACKI,EAASnB,qB,8CAE7BmB,EAAAJ,wB,WAIE,GAAAW,iBAAA,kBAAAC,GACA,MAAAC,EAAiBnC,SAAEC,cAAA,SAAAyB,EAAAJ,MAAAc,QACrBb,EAAAG,EAAAnB,MAAAiB,KAAAW,EAAAT,EAAAJ,GAKA,IAEFQ,EAAAO,SAAA,GAAAJ,iBAAA,kBAAAC,GACFb,EAAAK,EAAAJ,I,4CC/BAjB,iBACEP,EAAIC,QAAQuC,UAAUC,IAAI,QAG1Bd,QADkBN,KAGlBrB,EAAIC,QAAQuC,UAAUE,OAAO,OAC/B,CACAC,GAGA3C,EAAIK,WAAW8B,iBAAiB,SAAS5B,UACvC,IAAIE,EAAQT,EAAII,UAAUwC,MAEZ,KAAVnC,GAKJT,EAAIC,QAAQuC,UAAUC,IAAI,cAGpBjC,EAAQC,GACdT,EAAII,UAAU8B,UAAY,GAI1BP,QAFkBN,KAIlBrB,EAAIC,QAAQuC,UAAUE,OAAO,SAd3BG,MAAM,cAcqB","sources":["store/store.js","js/addTodo.js","js/getTodos.js","js/deleteTodo.js","js/editTodo.js","js/renderTodos.js","main.js"],"sourcesContent":["export const url = \"https://asia-northeast3-heropy-api.cloudfunctions.net/api/todos\";\r\nexport const headers = {\r\n  \"content-type\": \"application/json\",\r\n  apikey: \"FcKdtJs202209\",\r\n  username: \"KDT3_JeonSoYun\",\r\n}\r\nexport const els = {\r\n  loading: document.querySelector('.loading'),\r\n  todoInput: document.querySelector('.todo-input'),\r\n  todoAddBtn: document.querySelector('.todo-button'),\r\n  todoList: document.querySelector('.todo-list'),\r\n}\r\n// export const state = {\r\n//   filter = {\r\n\r\n//   }\r\n// }","import { url, headers } from '../store/store.js';\r\n\r\nexport async function addTodo(title) {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'POST',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        title,\r\n      })\r\n    });\r\n    const json = await res.json();\r\n    console.log(json);\r\n\r\n    return json;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","import { url, headers } from '../store/store.js';\r\n\r\nexport async function getTodos() {\r\n  try {\r\n    const res = await fetch(url, {\r\n      method: 'GET',\r\n      headers: headers\r\n    });\r\n    const todos = await res.json();\r\n    console.log(todos);\r\n    return todos;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","import { url, headers } from '../store/store.js';\r\n\r\nexport async function deleteTodo(id) {\r\n  console.log(url + `/:${id}`);\r\n  try {\r\n    const res = await fetch(url`/:${id}`, {\r\n      method: 'DELETE',\r\n      headers: headers\r\n    });\r\n    const json = await res.json();\r\n    return json;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","import { url, headers } from '../store/store.js';\r\n\r\nexport async function editTodo(title, done = true, id) {\r\n  console.log(url + `/:${id}`);\r\n  try {\r\n    const res = await fetch(url`/:${id}`, {\r\n      method: 'PUT',\r\n      headers: headers,\r\n      body: JSON.stringify({\r\n        title,\r\n        done\r\n      })\r\n    });\r\n    const json = await res.json();\r\n    return json;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}","import { url, headers, els, state } from '../store/store.js';\r\nimport { deleteTodo } from './deleteTodo.js';\r\nimport { editTodo } from './editTodo.js';\r\n\r\nexport function renderTodos(todos) {\r\n  for (const todo of todos) {\r\n\r\n    // 날짜 자르기\r\n    const yeartext = todo.createdAt;\r\n    let createdtodo = yeartext.slice(0, 10);\r\n\r\n    const el = document.createElement(\"li\");\r\n    el.innerHTML = /* html */ `\r\n      <input type=\"checkbox\" id=\"check${todo.id}\">\r\n      <label for=\"check${todo.id}\"></label>\r\n      <input type=\"text\" value=\"${todo.title}\">\r\n      <p>${createdtodo}</p>\r\n      <button class=\"deleteBtn\" id=\"${todo.id}\">삭제</button>\r\n    `\r\n\r\n    // TO-DO 완료\r\n    el.children[1].addEventListener('click', function (e) {\r\n      const doneCheck = document.querySelector(`#check${todo.id}`).checked;\r\n      editTodo(todo.title, done = doneCheck, todo.id);\r\n    });\r\n\r\n    // TO-DO 삭제\r\n    el.children[4].addEventListener('click', function (e) {\r\n      deleteTodo(todo.id);\r\n      console.log(todo.id);\r\n    });\r\n\r\n\r\n\r\n\r\n    // TO-DO 렌더\r\n    els.todoList.append(el);\r\n  }\r\n}","import { els, state } from './store/store.js';\r\nimport { addTodo } from './js/addTodo.js';\r\nimport { getTodos } from './js/getTodos.js';\r\nimport { renderTodos } from './js/renderTodos.js';\r\nimport { editTodo } from './js/editTodo.js'\r\n\r\n// 첫 로드시 TO-DO 렌더\r\nasync function init() {\r\n  els.loading.classList.add('show');  // 로딩\r\n\r\n  let todos = await getTodos();\r\n  renderTodos(todos);\r\n\r\n  els.loading.classList.remove('show');  // 로딩\r\n};\r\ninit();\r\n\r\n// TO-DO 등록 기능\r\nels.todoAddBtn.addEventListener('click', async () => {\r\n  let title = els.todoInput.value;\r\n\r\n  if (title === '') {\r\n    alert('제목을 입력해주세요!');\r\n    return\r\n  }\r\n\r\n  els.loading.classList.add('show');  // 로딩\r\n\r\n  // TO-DO 등록\r\n  await addTodo(title);\r\n  els.todoInput.innerHTML = \"\";  // input 초기화\r\n\r\n  let todos = await getTodos();\r\n\r\n  renderTodos(todos);\r\n\r\n  els.loading.classList.remove('show');  // 로딩\r\n});\r\n\r\n"],"names":["$2e86f2ccc1c4de93$export$128fa18b7194ef","$2e86f2ccc1c4de93$export$838e2a576d4d6ff6","apikey","username","$2e86f2ccc1c4de93$export$7236b418e6d031e1","loading","document","querySelector","todoInput","todoAddBtn","todoList","async","$a84a9e931f836690$export$61605cd041f63b9e","title","res","fetch","method","headers","body","JSON","stringify","json","console","log","error","$0279fc304c0be996$export$44d05bfb990400c7","todos","$d9a71c6f3d094362$export$a8f41ab6a0a1eaf2","id","$2928099053a920d3$export$cffb1bf74618fe7","done","$615dd3b8e9a41d0a$export$5a049f3ff3e9e082","todo","createdtodo","createdAt","slice","el","createElement","innerHTML","addEventListener","e","doneCheck","checked","children","classList","add","remove","$efd3ba4ec2608b1d$var$init","value","alert"],"version":3,"file":"index.da4ce5a1.js.map"}